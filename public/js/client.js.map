{"version":3,"file":"client.js","sources":["../../src/js/subscriptionForm.js","../../src/js/darkModeToggle.js","../../src/js/client.js"],"sourcesContent":["export default function subscriptionForm() {\n  const $form = document.getElementById('sub-form')\n  const $email = document.getElementById('email-input')\n  const $getUpdates = document.getElementById('get-updates')\n  const $submitBtn = document.getElementById('submit-btn')\n  const $successMsg = document.getElementById('success-msg')\n  const $successMsgCount = document.getElementById('count')\n  const $errorMsg = document.getElementById('error-msg')\n\n  function onFormSubmit(e) {\n    e.preventDefault()\n    const email = $email.value\n    const getUpdates = $getUpdates.checked\n\n    if (!email) return\n\n    $submitBtn.setAttribute('disabled', 'true')\n    fetch('/sub', {\n      method: 'POST',\n      headers: { 'content-type': 'application/json' },\n      body: JSON.stringify({ email, getUpdates }),\n    })\n      .then(function (response) {\n        return response.json()\n      })\n      .then(function (json) {\n        $submitBtn.removeAttribute('disabled')\n        $form.parentNode.removeChild($form)\n        if (json.ok) {\n          $successMsg.classList.remove('hidden')\n          $successMsgCount.innerHTML = $successMsgCount.innerHTML.replace(\n            /{count}/,\n            json.count\n          )\n        } else {\n          $errorMsg.innerHTML = `<p>${json.message}</p>`\n          $errorMsg.classList.remove('hidden')\n        }\n      })\n  }\n\n  $form.addEventListener('submit', onFormSubmit)\n}\n","export default function darkModeToggle() {\n  const isOn = localStorage.getItem('darkMode') === 'true'\n  const $html = document.getElementsByTagName('html')[0]\n  const $toggle = document.getElementById('dark-mode-toggle')\n\n  if (isOn) $html.classList.add('dark')\n  else $html.classList.remove('dark')\n  $toggle.addEventListener('click', () => {\n    $html.classList.toggle('dark')\n    if ($html.classList.contains('dark')) {\n      $toggle.classList.add('on')\n      localStorage.setItem('darkMode', 'true')\n    } else {\n      $toggle.classList.remove('on')\n      localStorage.setItem('darkMode', 'false')\n    }\n  })\n}\n","import subscriptionForm from './subscriptionForm'\nimport darkModeToggle from './darkModeToggle'\n\nwindow.addEventListener('DOMContentLoaded', function onDomLoaded() {\n  subscriptionForm()\n  darkModeToggle()\n})\n"],"names":[],"mappings":"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"}